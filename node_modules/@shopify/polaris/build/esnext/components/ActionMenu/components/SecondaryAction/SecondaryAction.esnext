import React, { useRef, useEffect } from 'react';
import { classNames } from '../../../../utilities/css.esnext';
import styles from './SecondaryAction.scss.esnext';
import { Button } from '../../../Button/Button.esnext';

function SecondaryAction({
  children,
  destructive,
  onAction,
  getOffsetWidth,
  ...rest
}) {
  const secondaryActionsRef = useRef(null);
  useEffect(() => {
    var _secondaryActionsRef$;

    if (!getOffsetWidth || !secondaryActionsRef.current) return;
    getOffsetWidth((_secondaryActionsRef$ = secondaryActionsRef.current) === null || _secondaryActionsRef$ === void 0 ? void 0 : _secondaryActionsRef$.offsetWidth);
  }, [getOffsetWidth]);
  return /*#__PURE__*/React.createElement("span", {
    className: classNames(styles.SecondaryAction, destructive && styles.destructive),
    ref: secondaryActionsRef
  }, /*#__PURE__*/React.createElement(Button, Object.assign({
    onClick: onAction
  }, rest), children));
}

export { SecondaryAction };
